<!doctype html>
<html>
<head>
   <meta charset="utf-8">
   <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">

   <title>WaitButton Callback Variation Tests</title>

   <script src="http://code.jquery.com/jquery.js"></script>
   <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

   <link rel="stylesheet" href="../../../themes/base/jquery.ui.waitbutton.css">

   <script src="../../../ui/jquery.ui.waitbutton.js"></script>

   <script>
   $(function() {
      $('#save-1')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done(); }, 2000);
            });


      $('#save-2')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done( false ); }, 2000);
            });

      $('#reset-2')
         .button()
         .on( 'click', function () {
               $('#save-2').waitbutton();
            });


      $('#save-3')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done( 'Saved' ); }, 2000);
            });

      $('#reset-3')
         .button()
         .on( 'click', function () {
               $('#save-3').waitbutton();
            });



      $('#save-4')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done( 'Saved', false ); }, 2000);
            });

      $('#reset-4')
         .button()
         .on( 'click', function () {
               $('#save-4').waitbutton();
            });
   });
   </script>

   <style>
      body {
         font-family: sans-serif,arial;
      }

      #main {
         width: 900px;
         margin: auto;
      }
   </style>
</head>
<body>

<a href="https://github.com/bseth99/jquery-ui-extensions"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

<div id="main">
   <h3>WaitButton Callback Variations</h3>

   <div>
      <a href="../index.html">&lt; Back to widget demos</a>
   </div>
   <br/>
   <div>
      The WaitButton widget extends the default jQueryUI Button widget by adding a spinner and disabling the
      button when its clicked.  Only one click is allowed until a callback is executed from the <code>waiting</code>
      event handler.
   </div>

   <h5>Default completion - return to the start state</h5>
   <pre><code>
      $('#save-1')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done(); }, 2000);
            });
   </code></pre>
   <button id="save-1">Save</button>


   <h5>Return to original label, but leave disabled</h5>
   <pre><code>
      $('#save-2')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done( false ); }, 2000);
            });
   </code></pre>
   <button id="save-2">Save</button>
   <button id="reset-2">Reset</button>


   <h5>Change to a different label, but enable the button</h5>
   <pre><code>
      $('#save-3')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done( 'Saved' ); }, 2000);
            });
   </code></pre>
   <button id="save-3">Save</button>
   <button id="reset-3">Reset</button>


   <h5>Change to a different label and leave disabled</h5>
   <pre><code>
      $('#save-4')
         .waitbutton({ waitLabel: 'Saving ...' })
         .on( 'buttonwaiting', function ( e, ui ) {

               setTimeout(function () { ui.done( 'Saved', false ); }, 2000);
            });
   </code></pre>
   <button id="save-4">Save</button>
   <button id="reset-4">Reset</button>

</div>

</body>
</html>