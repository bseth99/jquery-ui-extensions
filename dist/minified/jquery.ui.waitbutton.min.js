/*! Ben's jQuery UI Extensions - v1.0.5 - 2013-08-06
* https://github.com/bseth99/jquery-ui-extensions
* Copyright 2013 Ben Olson; Licensed MIT */
(function(t){t.widget("ui.waitbutton",t.ui.button,{version:"1.0.5",widgetEventPrefix:"button",options:{waitLabel:null,waitIcon:"ui-icon-waiting"},_saved:null,_create:function(){this._super(),this.element.addClass("ui-wait-button"),this._saved={},this._saveOptions()},_init:function(){this._super(),this.disable(),this._toggleWaitState(),this._initWaitClick()},_initWaitClick:function(){this.element.off("click"),this.element.one("click",t.proxy(this,"_toggleWaitState"))},_toggleWaitState:function(){var i;this.options.disabled?this._setOptions({disabled:!1,label:this._saved.label,icons:{primary:this._saved.icon}}):(this._saveOptions(),this._setOptions({disabled:!0,label:this.options.waitLabel||this.options.label,icons:{primary:this.options.waitIcon}}),i=arguments[0]||new jQuery.Event("click",{target:this.element}),i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),this._trigger("waiting",i,{done:t.proxy(this,"_waitComplete")}))},_waitComplete:function(){var t=arguments[0]&&"string"==typeof arguments[0]?arguments[0]:null,i=t?arguments[1]:arguments[0];i===undefined&&(i=!0),this._toggleWaitState(),i?this._initWaitClick():this.disable(),t&&this._setOption("label",t)},_saveOptions:function(){this._saved.icon=this.options.icons.primary,this._saved.label=this.options.label}})})(jQuery);